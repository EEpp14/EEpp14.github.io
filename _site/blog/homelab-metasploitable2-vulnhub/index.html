<!-- This layout is used in all pages. Making changes here will efect all pages. We recommend not to change anything here. --> <!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><link rel="dns-prefetch" href="//fonts.googleapis.com" /><link rel="dns-prefetch" href="//google-analytics.com" /><link rel="dns-prefetch" href="//www.google-analytics.com" /><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com" /><link rel="dns-prefetch" href="//ajax.googleapis.com" /><link rel="dns-prefetch" href="//fonts.gstatic.com" /><link rel="dns-prefetch" href="https://.disqus.com/" /><title>VMWare Pro Homelab Metasploitable2 &amp; Vulnhub | My Portfolio</title><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="VMWare Pro Homelab Metasploitable2 &amp; Vulnhub" /><meta name="author" content="Ethan Epperson" /><meta property="og:locale" content="en_US" /><meta name="description" content="Creating/Importing the Isolated Network VMs" /><meta property="og:description" content="Creating/Importing the Isolated Network VMs" /><link rel="canonical" href="https://eepp14.github.io/blog/homelab-metasploitable2-vulnhub/" /><meta property="og:url" content="https://eepp14.github.io/blog/homelab-metasploitable2-vulnhub/" /><meta property="og:site_name" content="My Portfolio" /><meta property="og:image" content="https://eepp14.github.io/assets/images/thumbnails/homelab/Homelab-setup-guide-metasploit-vulnhub.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-01-11T00:00:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://eepp14.github.io/assets/images/thumbnails/homelab/Homelab-setup-guide-metasploit-vulnhub.jpg" /><meta property="twitter:title" content="VMWare Pro Homelab Metasploitable2 &amp; Vulnhub" /><script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ethan Epperson"},"dateModified":"2024-01-11T00:00:00-05:00","datePublished":"2024-01-11T00:00:00-05:00","description":"Creating/Importing the Isolated Network VMs","headline":"VMWare Pro Homelab Metasploitable2 &amp; Vulnhub","image":"https://eepp14.github.io/assets/images/thumbnails/homelab/Homelab-setup-guide-metasploit-vulnhub.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://eepp14.github.io/blog/homelab-metasploitable2-vulnhub/"},"url":"https://eepp14.github.io/blog/homelab-metasploitable2-vulnhub/"}</script><link rel="stylesheet" href="/assets/css/main-default.css" /><link id="color-scheme" rel="stylesheet" href="/assets/css/main-default.css" /><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/apple-icon-60x60.png" /><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/apple-icon-114x114.png" /><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/apple-icon-152x152.png" /><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/android-icon-192x192.png" /><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" /><link rel="icon" href="/favicon.ico" type="image/x-icon" /><script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" ></script><script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script></head><body><div class="loader"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div><div class="wrapper"><div class="container-grid"><div class="sidebar"><div class="author-container shadow"><div class="author"> <a href="/"> <img src="/assets/images/headshots/professional-hs.jpg" width="100%" height="auto;" alt="My Portfolio"loading="lazy" /> </a></div><div class="about text-center"><h1 class="title"><a href="/">Ethan Epperson</a></h1></div><div class="bio text-center"><p class="m0">Cybersecurity Student | Let's Defend Together</p></div><hr class="dashed"><div class="social text-center"> <ul class="portfolio p0"> <li><a href="/projects/">Projects</a></li> <li><a href="/blog/">Blog</a></li> <li><a href="/contact/">Contact</a></li> </ul> <ul class="sm p0 m0a"> <li><a href="https://www.linkedin.com/in/ethan-epperson-8608b5277"><i class="fa fa-linkedin"></i></a></li> <li><a href="https://www.github.com/EEpp14"><i class="fa fa-github"></i></a></li> </ul></div></div></div><div class="main"><div class="main-container shadow"><div class="title-space"> <h1>VMWare Pro Homelab | Metasploitable2 & Vulnhub</h1><div class="input-group mb-3" data-aos="zoom-in"> <input type="text" class="form-control border-right-0" id="search-input" /><div class="input-group-append"> <span class="input-group-text" ><i class="fa fa-search"></i ></span></div></div></div><hr class="dashed" /> <main> <ul class="breadcrumbs"> <li><a href="/">Home</a></li> <li> <a href="/blog" >Blog</a > </li> <li> <a href="#" >Homelab metasploi...</a > </li> </ul><div class="meta" data-aos="fade-up"> <p> <small> <span> <i class="fa fa-calendar" aria-hidden="true"></i> 11 Jan 2024&nbsp; </span> <span> <i class="fa fa-user" aria-hidden="true"></i> Ethan Epperson&nbsp; </span> <span> <i class="fa fa-clock-o" aria-hidden="true"></i> 5 mins read. </span> </small> </p></div><div class="featured-image rounded shadow" style="background-image: url(/assets/images/thumbnails/homelab/Homelab-setup-guide-metasploit-vulnhub.jpg)" data-aos="zoom-in" ></div><div class="container"> <article> <ul class="toc"> <li><a href="#creatingimporting-the-isolated-network-vms">Creating/Importing the Isolated Network VMs</a></li> <li><a href="#installing-ubuntu-server">Installing Ubuntu Server</a></li> <li><a href="#importing--upgrading-metasploitable2-vm">Importing &amp; Upgrading Metasploitable2 VM</a></li> <li><a href="#importing-and-upgrading-the-symfonos-1-vm">Importing and Upgrading the Symfonos: 1 VM</a></li> </ul> <h2 id="creatingimporting-the-isolated-network-vms">Creating/Importing the Isolated Network VMs</h2> <p>We will need to do some preparatory work and create an Ubuntu server machine before we get to setting up DVWA itself in the next part. The Metasploitable2 and VulnHub VMs will be imported into VMWare pre-configured, so we will have to manually adjust the specifications for those machines. As I mentioned in the intro, there are a multitude of VMs to choose from on VulnHub. Feel free to make your own choice about which one you want to start with. You can always add more later. I will be starting with the ‘Symfonos: 1’ machine, a beginner level box. This machine will be using DVWA on Ubuntu server. Here are the recommended specifications and the DHCP allocation in the webConfigurator.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/dvwa-spec.jpg" alt="DVWA Specifications" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/dvwa-dhcp.jpg" alt="DVWA DHCP" /></p> <h2 id="installing-ubuntu-server">Installing Ubuntu Server</h2> <p>Power on the machine and choose ‘Try or Install Ubuntu Server’ and you will be greeted with the Ubuntu installation wizard after a short time. Choose your language, keyboard, and the standard server installation options. When you get to ‘Network Connections’ you should see the IP/MAC if you did everything correctly in the webConfigurator. Click ‘Done’. On the next page it asks us for a proxy, we aren’t using one so skip this section. Accept the default settings on the archive mirror page. On both of the storage configuration pages leave them as is and hit ‘Done’. When asked to wipe the disk, click ‘Confirm’. On the next screen, we will be able to choose a server name, username, and password. Once you have them entered, click ‘Done’. We will not be using the pro version, so skip this step. On the next page, we want to install SSH so make sure to enable it before clicking ‘Done’. We will not be installing any snaps, so skip and click ‘Done’. Finally, we can allow Ubuntu to install. Once its done, reboot the system. Don’t forget to test connections and update.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-language.jpg" alt="Ubuntu Setup Language" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-keyboard.jpg" alt="Ubuntu Setup Keyboard" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-type.jpg" alt="Ubuntu Setup Type" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-network.jpg" alt="Ubuntu Setup Network" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-proxy.jpg" alt="Ubuntu Setup Proxy" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-mirror.jpg" alt="Ubuntu Setup Mirror" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-storage.jpg" alt="Ubuntu Setup Storage" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-storage2.jpg" alt="Ubuntu Setup Storage Confirmation" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-profile.jpg" alt="Ubuntu Setup Profile" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-pro.jpg" alt="Ubuntu Setup Pro" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-pro.jpg" alt="Ubuntu Setup SSH" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-snaps.jpg" alt="Ubuntu Setup Snaps" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/ubuntu-installing.jpg" alt="Ubuntu Setup Installing" /></p> <h2 id="importing--upgrading-metasploitable2-vm">Importing &amp; Upgrading Metasploitable2 VM</h2> <p>To import Metasploitable2 into VMWare, ctrl-x and paste the unzipped metasploitable2 folder into the directory where all your virtual machines are stored. Once that’s done, go to ‘File’ → ‘Scan for Virtual Machines’. Make sure that Metasploitable is the box that is clicked. Follow the wizard and VMWare should register the metasploitable machine at this point.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-scan.jpg" alt="Metasploitable2 Scan" /></p> <p>It should now show up under the library pane of VMware. Now we will need to reconfigure the hardware settings. Click on the VM and you should see the option ‘Upgrade this virtual machine’, choose it. The ‘Change Hardware Compatibility Wizard’ will be launched. On the wizard click through and choose the newest workstation version from the dropdown. On the next screen, choose ‘Alter this virtual machine’. On the ‘Review Changes’ screen, click ‘Finish’ to convert and upgrade the virtual machine for use with Workstation X.X.X (17.5.x for the most current version at this time).</p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-hardware.jpg" alt="Metasploitable2 Hardware" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-compatibility.jpg" alt="Metasploitable2 Workstation Compatibility" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-changes.jpg" alt="Metasploitable2 Review Changes" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-finished.jpg" alt="Metasploitable2 Finished Upgrading" /></p> <h1 id="changing-metasploitable2-settings">Changing Metasploitable2 Settings</h1> <p>Now that we have upgraded the machine, we can change the specifications and set it’s DHCP allocation. Luckily, the OS comes pre-installed so we don’t have to worry about that. Here are recommended specs and the DHCP allocation within the webConfigurator.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-spec.jpg" alt="Metasploitable2 Specifications" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-dhcp.jpg" alt="Metasploitable2 DHCP" /></p> <p>Next, we can boot up our Metasploitable VM, login with the default credentials, and do the regular connection check. Let’s start with a simple ‘ifconfig -a’ command. As we can see, the machine has the IP/MAC we set for it.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/meta-ifconfig.jpg" alt="Metasploitable2 ifconfig Command" /></p> <p>Now we absolutely do not want this machine to be able to have outbound access to other networks or the internet. Let’s try our nslookup and curl commands once again and make sure that it fails. If it fails, then we have successfully blocked outbound traffic from this machine. If it doesn’t, then your firewall rules are not configured correctly and you must change them ASAP. With that, metasploitable2 is done setting up.</p> <h2 id="importing-and-upgrading-the-symfonos-1-vm">Importing and Upgrading the Symfonos: 1 VM</h2> <p>Importing the symphonos machine works a lot like metasploitable2, but instead of using the scan wizard to find metasploitable2 we will have to manually select it by going to ‘File’ → ‘Open’ and choosing the .ova file from the symfonos directory. The ‘Import Virtual Machine Wizard’ will launch and allow us to name it and choose an installation directory.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/symfonos-import.jpg" alt="Symfonos: 1 Import" /></p> <p>Here are the specifications and DHCP allocation in the webConfigurator.</p> <p><img src="/assets/images/homelab/isolated-vms-setup/symfonos-spec.jpg" alt="Symfonos: 1 Settings" /></p> <p><img src="/assets/images/homelab/isolated-vms-setup/vuln-dhcp.jpg" alt="Symfonos: 1 DHCP" /></p> <p>We don’t need to boot this machine right now as we don’t have the login credentials. The point is to break into it and achieve root access. Be sure to double check your DHCP and firewall rules for OPT1 to make sure everything is in working order.</p> <table> <tbody> <tr> <td>Once this is complete, then congrats all of the machines in our isolated network are now setup! We will be installing the DVWA web server onto Ubuntu here shortly. You can find the next part, ‘VMWare Pro Homelab</td> <td>DVWA’, in the [blog] section of this site.</td> </tr> </tbody> </table> </article></div><hr class="dashed" /><div class="container"><div class="row"><div class="col-md-12"> <p class="categories" data-aos="fade-up"> <span ><a href="/categories/#blog" >Blog</a ></span > </p></div></div><div class="recent" data-aos="fade-up"><div class=""> <h3>Recent Articles</h3></div><div class="recent-grid"><div class="items" data-aos="fade-up"> <a class="nostyle item" href="/blog/homelab-wazuh/"><div class="cards"><div class="image rounded" style="background-image: url(/assets/images/thumbnails/homelab/Homelab-setup-guide-wazuh.jpg)" ></div><p class="title"><small>VMWare Pro Homelab | Monitoring Suricata/Windows Logs With Wazuh</small></p></div></a></div><div class="items" data-aos="fade-up"> <a class="nostyle item" href="/blog/homelab-suricata/"><div class="cards"><div class="image rounded" style="background-image: url(/assets/images/thumbnails/homelab/Homelab-setup-guide-suricata.jpg)" ></div><p class="title"><small>VMWare Pro Homelab | Suricata Setup on pfSense with Snort Alerts</small></p></div></a></div><div class="items" data-aos="fade-up"> <a class="nostyle item" href="/blog/homelab-ad-forest-pt.2/"><div class="cards"><div class="image rounded" style="background-image: url(/assets/images/thumbnails/homelab/Homelab-setup-guide-windows.jpg)" ></div><p class="title"><small>VMWare Pro Homelab | Active Directory Forest Setup pt. 2</small></p></div></a></div><div class="items" data-aos="fade-up"> <a class="nostyle item" href="/blog/homelab-ad-forest/"><div class="cards"><div class="image rounded" style="background-image: url(/assets/images/thumbnails/homelab/Homelab-setup-guide-windows.jpg)" ></div><p class="title"><small>VMWare Pro Homelab | Active Directory Forest Setup pt. 1</small></p></div></a></div></div></div></div></main><div id="search-container"></div><hr class="dashed" /><footer data-aos="fade-up"><div class="text-right"> <p class="copy"> <i class="fa fa-at"></i> 2018 <a class="rev" href="/">Blackcurrant</a> </p></div></footer></div></div></div></div><script src="/assets/js/jQuery.min.js"></script><script> $(document).ready(function () { $(".loader").hide(); });</script><script> (function () { var css = document.createElement("link"); css.href = "/assets/font-awesome-4.7.0/css/font-awesome.min.css"; css.rel = "stylesheet"; css.type = "text/css"; document.getElementsByTagName("head")[0].appendChild(css); })();</script><noscript><link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.min.css" /> </noscript><script> $("#search-input").keyup(function () { $("main").hide(); $("search-container").show(); if (!$("#search-input").val()) { $("main").show(); $("search-container").hide(); } });</script><script src="/assets/js/jekyll-search.min.js"></script><script> SimpleJekyllSearch({ searchInput: document.getElementById("search-input"), resultsContainer: document.getElementById("search-container"), searchResultTemplate: '<a class="nostyle" href="{url}"><div class="blog borders cards"><div class="image" style="background-image: url({image});"></div><div class="content"><h3 class="title">{title}</h3><p class="description">{description}</p></div></div></a>', noResultsText: "No results found", json: "/search.json", });</script><script> (function () { var css = document.createElement("link"); css.href = "https://unpkg.com/aos@2.3.1/dist/aos.css"; css.rel = "stylesheet"; css.type = "text/css"; document.getElementsByTagName("head")[0].appendChild(css); })();</script><noscript><link rel="stylesheet" href="/assets/animate-on-scroll/aos.min.css" /> </noscript><script src="/assets/animate-on-scroll/aos.min.js"></script><script> AOS.init({ duration: 600, once: true, disable: "mobile", });</script></body></html>